# COCO Downloader (COCOéŸ³ä¹ä¸‹è½½ç«™)

![Next.js](https://img.shields.io/badge/Next.js-16.1-black)
![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)
![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-4.0-38B2AC)
![License](https://img.shields.io/badge/License-MIT-green)
![Docker](https://img.shields.io/badge/Docker-Supported-2496ED)

## ğŸ“– ç®€ä»‹

**COCOéŸ³ä¹ä¸‹è½½ç«™** æ˜¯ä¸€ä¸ªåŸºäº Next.js 16 æ„å»ºçš„ç°ä»£åŒ–éŸ³ä¹æœç´¢ä¸ä¸‹è½½å¹³å°ã€‚ç•Œé¢è®¾è®¡ç®€çº¦çº¯å‡€ï¼Œæ”¯æŒå¤šæ¸ é“éŸ³ä¹æœç´¢ã€åœ¨çº¿è¯•å¬ã€æ‰¹é‡ä¸‹è½½ï¼Œå¹¶é…å¤‡äº†ä¸æ»‘çš„æš—é»‘æ¨¡å¼ï¼ˆæ¶Ÿæ¼ªè¿‡æ¸¡åŠ¨ç”»ï¼‰ã€‚

æœ¬é¡¹ç›®è‡´åŠ›äºæä¾›æ— å¹¿å‘Šã€æé€Ÿã€çº¯å‡€çš„éŸ³ä¹è·å–ä½“éªŒã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸµ **å¤šæºèšåˆæœç´¢**ï¼šæ”¯æŒå…¨ç½‘èšåˆæœç´¢ï¼Œå†…ç½®å¤šç§éŸ³ä¹æºæ¸ é“ï¼Œä¸€é”®åˆ‡æ¢ã€‚
- ğŸ§ **åœ¨çº¿è¯•å¬**ï¼šå†…ç½®ç²¾ç¾æ‚¬æµ®æ’­æ”¾å™¨ï¼Œæ”¯æŒæ’­æ”¾/æš‚åœã€è¿›åº¦æ‹–æ‹½ã€éŸ³é‡è°ƒèŠ‚ã€ä¸Šä¸‹æ›²åˆ‡æ¢ã€**æ’­æ”¾æ¨¡å¼åˆ‡æ¢ï¼ˆé¡ºåº/éšæœº/å•æ›²ï¼‰**ã€‚
- ğŸ–±ï¸ **ä¾¿æ·äº¤äº’**ï¼šæ”¯æŒåˆ—è¡¨**åŒå‡»æ’­æ”¾**ï¼Œé¼ æ ‡æ‚¬åœ/é€‰ä¸­æ•ˆæœä¼˜åŒ–ï¼Œæ“ä½œæµç•…ã€‚
- â¬‡ï¸ **æ‰¹é‡ä¸‹è½½**ï¼šæ”¯æŒå¤šé€‰æ­Œæ›²ï¼Œä¸€é”®æ‰¹é‡æ‰“åŒ…ä¸‹è½½é€‰ä¸­çš„éŸ³ä¹ã€‚
- ğŸŒ“ **æè‡´ä¸»é¢˜ä½“éªŒ**ï¼š
    - å®Œç¾é€‚é…**æ·±è‰²/æµ…è‰²æ¨¡å¼**ã€‚
    - ç‹¬å®¶å®šåˆ¶çš„**æ¶Ÿæ¼ªæ‰©æ•£**åˆ‡æ¢åŠ¨ç”»ï¼ˆåŸºäº View Transitions APIï¼‰ï¼Œè§†è§‰æ•ˆæœæƒŠè‰³ã€‚
- âš¡ **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**ï¼šåŸºäº React 19ã€Next.js 16 App Routerã€Tailwind CSS v4 æ„å»ºã€‚

## ğŸ¹ æ”¯æŒéŸ³æºä¸éŸ³è´¨è¯´æ˜

æœ¬é¡¹ç›®èšåˆäº†å¤šä¸ªç¬¬ä¸‰æ–¹éŸ³ä¹æœç´¢å¼•æ“ï¼Œæ”¯æŒä»¥ä¸‹éŸ³æºï¼š

- **æ­Œæ›²å®**
- **æ­Œæ›²æµ·**
- **å¸ƒè°·**
- **QQéŸ³ä¹**
- **QQMP3**
- **å’ªå’•**
- **åŠ›éŸ³**
- **ç…é¥¼ç³»åˆ—**ï¼ˆç½‘æ˜“/QQ/é…·ç‹—/é…·æˆ‘èšåˆï¼‰

> **âš ï¸ å…³äºéŸ³è´¨çš„é‡è¦è¯´æ˜ï¼š**
> 1. **ä¸æ”¯æŒè‡ªå®šä¹‰éŸ³è´¨é€‰æ‹©**ï¼šæœ¬ç¨‹åºè‡ªåŠ¨è§£æç›®æ ‡æºæä¾›çš„é»˜è®¤æœ€é«˜å¯ç”¨éŸ³è´¨ã€‚
> 2. **æ— æŸéŸ³è´¨æ”¯æŒ**ï¼šéƒ¨åˆ†éŸ³æºï¼ˆå¦‚å’ªå’•ã€QQMP3ç­‰ï¼‰åœ¨èµ„æºå…è®¸çš„æƒ…å†µä¸‹ä¼šè‡ªåŠ¨è§£æå‡º **FLAC** æ— æŸæ ¼å¼ï¼Œè¯·è‡ªè¡Œæ¢ç´¢å°è¯•ã€‚
> 3. **è§£æç­–ç•¥**ï¼šç¨‹åºä¼šè‡ªåŠ¨å°è¯•è·å–æœ€ä½³æ’­æ”¾é“¾æ¥ï¼Œè‹¥æŸä¸ªæºæ— æ³•æ’­æ”¾ï¼Œå»ºè®®åˆ‡æ¢å…¶ä»–æºé‡è¯•ã€‚

## ğŸ›  æŠ€æœ¯æ ˆ

- **æ ¸å¿ƒæ¡†æ¶**: [Next.js 16.1.2](https://nextjs.org/) (App Router)
- **ç¼–ç¨‹è¯­è¨€**: [TypeScript](https://www.typescriptlang.org/)
- **æ ·å¼æ–¹æ¡ˆ**: [Tailwind CSS v4](https://tailwindcss.com/)
- **åŠ¨ç”»åº“**: [Framer Motion](https://www.framer.com/motion/)
- **å›¾æ ‡åº“**: [Lucide React](https://lucide.dev/)
- **ä¸»é¢˜ç®¡ç†**: [next-themes](https://github.com/pacocoursey/next-themes) + View Transitions API
- **åç«¯å¤„ç†**: Next.js API Routes + Axios + Cheerio

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.17.0
- npm / pnpm / yarn

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/markcxx/coco-downloader.git
cd coco-downloader
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
# æˆ–è€…
yarn install
# æˆ–è€…
pnpm install
```

### 3. è¿è¡Œå¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

æ‰“å¼€æµè§ˆå™¨è®¿é—® [http://localhost:3000](http://localhost:3000) å³å¯å¼€å§‹ä½¿ç”¨ã€‚

### 4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
npm start
```

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
coco-downloader/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                 # Next.js App Router æ ¸å¿ƒç›®å½•
â”‚   â”‚   â”œâ”€â”€ api/             # åç«¯ API è·¯ç”± (search, url, download)
â”‚   â”‚   â”œâ”€â”€ globals.css      # å…¨å±€æ ·å¼ (å« Tailwind v4 é…ç½®)
â”‚   â”‚   â”œâ”€â”€ layout.tsx       # æ ¹å¸ƒå±€ (é›†æˆ ThemeProvider)
â”‚   â”‚   â””â”€â”€ page.tsx         # é¦–é¡µä¸»è¦é€»è¾‘ (æœç´¢ã€åˆ—è¡¨ã€äº¤äº’)
â”‚   â”œâ”€â”€ components/          # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Navbar.tsx       # é¡¶éƒ¨å¯¼èˆªæ  (å«æ¶Ÿæ¼ªä¸»é¢˜åˆ‡æ¢é€»è¾‘)
â”‚   â”‚   â”œâ”€â”€ PlayerBar.tsx    # åº•éƒ¨æ‚¬æµ®æ’­æ”¾å™¨
â”‚   â”‚   â””â”€â”€ ThemeProvider.tsx# ä¸»é¢˜ä¸Šä¸‹æ–‡æä¾›è€…
â”‚   â”œâ”€â”€ lib/                 # å·¥å…·åº“
â”‚   â”‚   â””â”€â”€ providers/       # éŸ³ä¹æºç­–ç•¥æ¨¡å¼å®ç° (impl/gequbao.ts, impl/qqmp3.ts)
â”‚   â””â”€â”€ types/               # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ public/                  # é™æ€èµ„æºæ–‡ä»¶
â””â”€â”€ ...
```

## ğŸ¨ ç‰¹è‰²åŠŸèƒ½å®ç°è§£æ

### æ¶Ÿæ¼ªä¸»é¢˜åˆ‡æ¢
åœ¨ `src/components/Navbar.tsx` ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨äº†æµè§ˆå™¨åŸç”Ÿçš„ `document.startViewTransition` API é…åˆ CSS `clip-path` å±æ€§ã€‚
å½“ç”¨æˆ·ç‚¹å‡»ä¸»é¢˜åˆ‡æ¢æŒ‰é’®æ—¶ï¼Œè®¡ç®—ç‚¹å‡»åæ ‡ï¼Œä»¥è¯¥åæ ‡ä¸ºåœ†å¿ƒï¼Œè®¡ç®—è¦†ç›–å…¨å±æ‰€éœ€çš„æœ€å¤§åŠå¾„ï¼Œç„¶åæ‰§è¡Œåœ†å½¢æ‰©æ•£é®ç½©åŠ¨ç”»ã€‚è¿™æ¯”ä¼ ç»Ÿçš„ CSS `transition` å…¨å±€æ·¡å…¥æ·¡å‡ºæ›´å…·åŠ¨æ„Ÿå’Œç°ä»£æ„Ÿã€‚

### éŸ³ä¹æºæ‰©å±•
é¡¹ç›®åç«¯é‡‡ç”¨ç­–ç•¥æ¨¡å¼è®¾è®¡ã€‚åœ¨ `src/lib/providers` ä¸‹å®šä¹‰äº†ç»Ÿä¸€çš„æ¥å£ã€‚è‹¥éœ€æ·»åŠ æ–°çš„éŸ³ä¹ç½‘ç«™æºï¼Œåªéœ€æ–°å»ºä¸€ä¸ªå®ç°ç±»å¹¶åœ¨å·¥å‚æ–¹æ³•ä¸­æ³¨å†Œå³å¯ï¼Œæ— éœ€å¤§å¹…ä¿®æ”¹å‰ç«¯é€»è¾‘ã€‚

## ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šæœ¬åœ°éƒ¨ç½²

```bash
npm run build
npm start
```

### æ–¹æ¡ˆäºŒï¼šDocker éƒ¨ç½²

æœ¬é¡¹ç›®æ”¯æŒ Docker å¿«é€Ÿéƒ¨ç½²ï¼Œä¸”æ”¯æŒè‡ªå®šä¹‰ç«¯å£ã€‚

1. **æ‹‰å–é•œåƒ**
   ```bash
   docker pull markcxx/coco-downloader:latest
   ```

2. **è¿è¡Œå®¹å™¨**
   ```bash
   # é»˜è®¤è¿è¡Œåœ¨ 3000 ç«¯å£
   docker run -d -p 3000:3000 --name coco-downloader markcxx/coco-downloader:latest

   # è‡ªå®šä¹‰ç«¯å£ (ä¾‹å¦‚ 8080)
   docker run -d -p 8080:3000 -e PORT=3000 --name coco-downloader markcxx/coco-downloader:latest
   ```

## âš ï¸ å…è´£å£°æ˜

1. æœ¬é¡¹ç›®ä»…ä¾›**ä¸ªäººå­¦ä¹ ä¸æŠ€æœ¯äº¤æµ**ä½¿ç”¨ï¼Œä¸¥ç¦ç”¨äºä»»ä½•å•†ä¸šç”¨é€”ã€‚
2. æœ¬é¡¹ç›®æ‰€æœ‰éŸ³ä¹èµ„æºå‡æ¥æºäºäº’è”ç½‘ç¬¬ä¸‰æ–¹ç½‘ç«™ï¼Œæœ¬é¡¹ç›®ä»…æä¾›æ•°æ®èšåˆä¸æ£€ç´¢æœåŠ¡ï¼Œä¸å­˜å‚¨ä»»ä½•éŸ³ä¹æ–‡ä»¶ã€‚
3. è‹¥æ‚¨å‘ç°æœ¬é¡¹ç›®ä¾µçŠ¯äº†æ‚¨çš„æƒç›Šï¼Œè¯·è”ç³»æˆ‘ä»¬è¿›è¡Œåˆ é™¤ã€‚
4. ä½¿ç”¨æœ¬é¡¹ç›®äº§ç”Ÿçš„ä»»ä½•æ³•å¾‹åæœç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…ã€‚

## ğŸ¤ è´¡çŒ®ä¸åé¦ˆ

å¦‚æœæ‚¨å‘ç°ä»»ä½•é—®é¢˜æˆ–æœ‰æ–°åŠŸèƒ½å»ºè®®ï¼Œæ¬¢è¿æäº¤ Issue æˆ– Pull Requestã€‚

ä»“åº“åœ°å€ï¼š[https://github.com/markcxx/coco-downloader](https://github.com/markcxx/coco-downloader)

## ğŸ“„ è®¸å¯è¯

MIT License
